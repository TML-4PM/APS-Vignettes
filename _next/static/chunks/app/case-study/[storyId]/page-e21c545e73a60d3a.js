(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[726],{285:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var r=s(5155),a=s(2115),n=s(9708),o=s(2085),i=s(9434);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:o,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(l({variant:a,size:o,className:s})),ref:t,...c})});d.displayName="Button"},2346:(e,t,s)=>{"use strict";s.d(t,{Separator:()=>i});var r=s(5155),a=s(2115),n=s(7489),o=s(9434);let i=a.forwardRef((e,t)=>{let{className:s,orientation:a="horizontal",decorative:i=!0,...l}=e;return(0,r.jsx)(n.b,{ref:t,decorative:i,orientation:a,className:(0,o.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",s),...l})});i.displayName=n.b.displayName},3314:(e,t,s)=>{"use strict";s.d(t,{VignetteAICompanion:()=>y});var r=s(5155),a=s(2115),n=s(6695),o=s(285),i=s(8539),l=s(7569),d=s(5074),c=s(5554),u=s(9615),m=s(4601),p=s(172),h=s(3672),f=s(8531),x=s(7481),g=s(6766);async function b(e,t){return(await new Promise(e=>setTimeout(e,1500)),e.toLowerCase().includes("key themes"))?'Based on the vignette "'.concat(t.substring(0,30),'...", the key themes appear to be: Theme A, Theme B, and Theme C. (This is a simulated AI response).'):e.toLowerCase().includes("implications")?'The implications of "'.concat(t.substring(0,30),'..." could include: Implication X, Implication Y, and Implication Z. (This is a simulated AI response).'):e.toLowerCase().includes("solution")?'A potential solution related to "'.concat(t.substring(0,30),'..." might involve: Step 1, Step 2, and Step 3. (This is a simulated AI response).'):"I've processed your query about \"".concat(e.substring(0,20),"...\" in the context of this vignette. Here's a general insight: [Simulated AI insight based on prompt and vignette context]. For more specific actions, try asking about 'key themes', 'implications', or 'potential solutions'.")}let v=[{id:"themes",label:"What are the key themes in this vignette?",icon:l.A},{id:"implications",label:"What are the broader implications of this scenario?",icon:d.A},{id:"solutions",label:"Suggest a potential solution or next step.",icon:c.A}];function y(e){let{vignette:t}=e,[s,l]=(0,a.useState)(""),[d,c]=(0,a.useState)([]),[y,N]=(0,a.useState)(!1),[w,j]=(0,a.useState)(!1),{toast:A}=(0,x.dj)(),T="Vignette Title: ".concat(t.question,"\nCategory: ").concat(t.categoryName,"\nPersona: ").concat(t.personName," (").concat(t.personDescription,")\nStory: ").concat(t.storyText),k=async e=>{let t=e||s;if(t.trim()||e){N(!0),c(e=>[...e,{type:"user",text:t}]),l("");try{let e=await b(t,T);c(t=>[...t,{type:"ai",text:e}])}catch(e){A({title:"Error",description:"Could not get a response from the AI companion.",variant:"destructive"}),c(e=>[...e,{type:"ai",text:"Sorry, I couldn't process that request."}])}finally{N(!1),j(!0)}}},I=e=>{l(e),k(e)};return(0,r.jsxs)(n.Zp,{className:"mt-8 shadow-lg border-primary/50 bg-primary/10",children:[(0,r.jsxs)(n.aR,{className:"pb-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(g.default,{src:"https://placehold.co/80x80.png",alt:"AI Companion Avatar",width:60,height:60,className:"rounded-full mr-4 border-2 border-accent shadow-sm","data-ai-hint":"AI assistant robot"}),(0,r.jsxs)(n.ZB,{className:"text-xl font-semibold text-primary-foreground flex items-center",children:[(0,r.jsx)(u.A,{className:"w-7 h-7 mr-3 text-accent md:hidden"})," ","AI Companion: Insights & Actions"]})]}),(0,r.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>{j(e=>!e),w||0!==d.length||c([{type:"ai",text:"Hello! I'm your AI companion for the vignette: \"".concat(t.question,'". How can I help you explore its themes, implications, or potential solutions? You can use one of the quick prompts below or type your own question.')}])},className:"bg-background/70 hover:bg-background text-foreground",children:[w?"Hide":"Chat",(0,r.jsx)(m.A,{className:"ml-2 h-4 w-4"})]})]}),(0,r.jsxs)(n.BT,{className:"text-sm text-primary-foreground/80 pt-1 ml-[76px]",children:[" ","Explore AI-generated insights or ask questions about this vignette."]})]}),w&&(0,r.jsxs)(n.Wu,{className:"pt-2 space-y-4",children:[(0,r.jsxs)("div",{className:"max-h-72 overflow-y-auto space-y-3 p-3 bg-background/50 rounded-md border border-border",children:[d.map((e,t)=>(0,r.jsx)("div",{className:"flex ".concat("user"===e.type?"justify-end":"justify-start"),children:(0,r.jsx)("div",{className:"max-w-[80%] p-3 rounded-lg shadow-md ".concat("user"===e.type?"bg-accent text-accent-foreground":"bg-card text-card-foreground"),children:(0,r.jsx)("p",{className:"text-sm",children:e.text})})},t)),y&&(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsxs)("div",{className:"max-w-[80%] p-3 rounded-lg shadow-md bg-card text-card-foreground opacity-70",children:[(0,r.jsx)(p.A,{className:"h-5 w-5 animate-spin mr-2 inline-block"}),(0,r.jsx)("span",{children:"Thinking..."})]})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Try one of these common questions or type your own below:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 justify-center",children:v.map(e=>{let t=e.icon;return(0,r.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>I(e.label),disabled:y,className:"text-xs px-2 py-1 h-auto bg-background/70 hover:bg-background",children:[(0,r.jsx)(t,{className:"mr-1.5 h-3.5 w-3.5"})," ",e.label]},e.id)})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,r.jsx)(i.T,{value:s,onChange:e=>l(e.target.value),placeholder:"Ask the AI about this vignette...",rows:2,className:"flex-grow bg-background focus:ring-accent",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),k())}}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(o.$,{onClick:()=>k(),disabled:y||!s.trim(),className:"bg-accent hover:bg-accent/80 text-accent-foreground",children:(0,r.jsx)(h.A,{className:"h-5 w-5"})}),(0,r.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>{c([]),l(""),A({title:"Conversation Reset",description:"The chat history with the AI companion has been cleared."})},disabled:y&&0===d.length,title:"Reset Conversation",children:(0,r.jsx)(f.A,{className:"h-5 w-5 text-muted-foreground hover:text-foreground"})})]})]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground/80 italic text-center pt-2",children:"AI Companion responses are simulated for demonstration purposes."})]})]})}},4944:(e,t,s)=>{"use strict";s.d(t,{Progress:()=>i});var r=s(5155),a=s(2115),n=s(5863),o=s(9434);let i=a.forwardRef((e,t)=>{let{className:s,value:a,...i}=e;return(0,r.jsx)(n.bL,{ref:t,className:(0,o.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...i,children:(0,r.jsx)(n.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});i.displayName=n.bL.displayName},6695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>o,aR:()=>i,wL:()=>u});var r=s(5155),a=s(2115),n=s(9434);let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});o.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});i.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});l.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})});u.displayName="CardFooter"},7481:(e,t,s)=>{"use strict";s.d(t,{dj:()=>m});var r=s(2115);let a=0,n=new Map,o=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?o(s):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=i(d,e),l.forEach(e=>{e(d)})}function u(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=r.useState(d);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},7759:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6874,23)),Promise.resolve().then(s.t.bind(s,3063,23)),Promise.resolve().then(s.bind(s,9169)),Promise.resolve().then(s.bind(s,4944)),Promise.resolve().then(s.bind(s,2346)),Promise.resolve().then(s.bind(s,3314))},8539:(e,t,s)=>{"use strict";s.d(t,{T:()=>o});var r=s(5155),a=s(2115),n=s(9434);let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...a})});o.displayName="Textarea"},9169:(e,t,s)=>{"use strict";s.d(t,{DynamicFeedbackControlsLoader:()=>n});var r=s(5155);let a=(0,s(5028).default)(()=>s.e(399).then(s.bind(s,3399)).then(e=>e.FeedbackControls),{loadableGenerated:{webpack:()=>[3399]},ssr:!1,loading:()=>(0,r.jsx)("div",{className:"text-center py-4",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading feedback..."})})});function n(e){let{storyId:t}=e;return(0,r.jsx)(a,{storyId:t})}},9434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(2596),a=s(9688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,803,63,88,441,684,358],()=>t(7759)),_N_E=e.O()}]);